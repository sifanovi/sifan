(this["webpackJsonptodo-client"]=this["webpackJsonptodo-client"]||[]).push([[0],{106:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(11),r=a.n(s);a(61),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(78),o=a(10),i=a(41),m=a(42),u=a(49),d=a(48),h=(a(95),a(28)),p=a(9),g=a(150),E=a(145),f=a(139),v=a(151),b=a(144),N=a(143),k=a(142),j=a(75),w=a.n(j),O=a(77),S=a.n(O),y=a(76),C=a.n(y),T=a(38),D=a(54);function x(e){var t=Object(T.b)({criteriaMode:"all"}),a=t.register,s=t.handleSubmit,r=t.errors,c=Object(n.useState)(!1),o=Object(p.a)(c,2),i=o[0],m=o[1],u=Object(n.useState)(!1),d=Object(p.a)(u,2),h=d[0],E=d[1],j=Object(n.useState)(""),O=Object(p.a)(j,2),y=O[0],x=O[1],P=Object(n.useState)("disabled"),Y=Object(p.a)(P,2),I=Y[0],A=Y[1],M=Object(n.useState)("new"),J=Object(p.a)(M,2),q=J[0],F=J[1],L=Object(n.useState)(500),R=Object(p.a)(L,2),U=R[0],W=R[1],B=function(){m(!0),e.id&&fetch("http://localhost:3002/tasks/"+e.id).then((function(e){return e.json()})).then((function(e){x(e.data.taskName),A(e.data.taskDetails),F(e.data.taskStatus);var t=500-e.data.taskDetails.length;W(t)}))},G=function(){m(!1),x(""),F("new"),A(""),E(!1)};return l.a.createElement("div",null,e.id?l.a.createElement(g.a.Item,{onClick:B}," Update "):l.a.createElement(f.a,{className:"text-white",onClick:B}," ",l.a.createElement(w.a,null)," Add Task "),l.a.createElement(v.a,{open:i,onClose:G},l.a.createElement(k.a,null," ",e.id?l.a.createElement("span",null," ",l.a.createElement(C.a,null)," Update Task "):l.a.createElement("span",null," ",l.a.createElement(S.a,null)," Add Task ")," "),l.a.createElement(N.a,null,l.a.createElement("form",{className:"row"},l.a.createElement("div",{className:"form-group col-sm-12 "},l.a.createElement("div",{className:"col-sm-3"},l.a.createElement("label",{htmlFor:"Task Name",className:"col-form-label"},"Title")),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("textarea",{name:"title",rows:"5",ref:a({required:"This field is required.",maxLength:{value:30,message:"Write your task title within 30 characters"}}),onChange:function(e){E(!0),x(e.target.value)},defaultValue:y,className:"form-control bg-transparent",placeholder:"Enter name"}),l.a.createElement(D.a,{errors:r,name:"title",render:function(e){var t=e.messages;return t?Object.entries(t).map((function(e){var t=Object(p.a)(e,2),a=t[0],n=t[1];return l.a.createElement("small",{className:"text-danger",key:a},n)})):null}}))),l.a.createElement("div",{className:"form-group col-sm-12"},l.a.createElement("label",{htmlFor:"Task Details",className:"col-sm-2 col-form-label"},"Details"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("textarea",{name:"details",rows:"10",defaultValue:I,onChange:function(e){E(!0),A(e.target.value),W(500-I.length)},placeholder:"Enter details",className:"form-control",ref:a({required:"This field is required.",maxLength:{value:500,message:"Write your details within 500 characters"}})}),l.a.createElement(D.a,{errors:r,name:"details",render:function(e){var t=e.messages;return t?Object.entries(t).map((function(e){var t=Object(p.a)(e,2),a=t[0],n=t[1];return l.a.createElement("small",{className:"text-danger",key:a},n)})):null}}),l.a.createElement("p",null,l.a.createElement("small",null,"  ",I.length>0?U:500," characters remaining")))),l.a.createElement("div",{className:"form-group col-sm-12"},l.a.createElement("label",{htmlFor:"Task Status",className:"col-sm-2 col-form-label"},"Status"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("select",{onChange:function(e){E(!0),F(e.target.value)},className:"form-control",value:q},l.a.createElement("option",{value:"new"},"New"),l.a.createElement("option",{value:"inProgress"},"In Progress"),l.a.createElement("option",{value:"done"},"Done")))))),l.a.createElement(b.a,null,h&&l.a.createElement("div",{className:"text-center"},l.a.createElement(f.a,{variant:"contained",onClick:G,color:"secondary"},"Cancel"),l.a.createElement(f.a,{className:"ml-2",onClick:s((function(){var t;e.id?s((t=e.id,void fetch("http://localhost:3002/tasks/"+t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({taskName:y,taskStatus:q,taskDetails:I})}).then((function(t){G(),e.update(),x(""),F("new"),A("")})))):s(void fetch("http://localhost:3002/tasks/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({taskName:y,taskStatus:q,taskDetails:I})}).then((function(t){G(),e.update(),x(""),F("new"),A("")})))})),variant:"contained",color:"primary"},e.id?"Update":"Create")))))}var P=a(55),Y=a.n(P),I=a(152);var A=function(e){var t=this,a=Object(n.useState)(!1),s=Object(p.a)(a,2),r=s[0],c=s[1],o=Object(n.useState)(""),i=Object(p.a)(o,2),m=i[0],u=i[1],d=Object(n.useState)(""),h=Object(p.a)(d,2),f=h[0],v=h[1],b=function(t){fetch("http://localhost:3002/tasks/"+t.target.id,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){u(t.message),v("success"),c(!0),e.update(),setTimeout((function(){c(!1)}),1e3),console.log(t.message)})).catch((function(e){u(e),v("error"),c(!0),setTimeout((function(){c(!1)}),1e3)}))},N=function(t){fetch("http://localhost:3002/tasks/"+t.target.id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({taskStatus:t.target.dataset.status})}).then((function(e){return e.json()})).then((function(t){u(t.message),v("success"),c(!0),e.update(),setTimeout((function(){c(!1)}),1e3),console.log(t.message)})).catch((function(e){u(e),v("error"),c(!0),setTimeout((function(){c(!1)}),1e3)}))};return l.a.createElement("div",null,r&&l.a.createElement("div",null,l.a.createElement(I.a,{severity:f},m)),l.a.createElement("div",{style:{maxHeight:"500px",overflowY:"auto",overflowX:"hidden",minHeight:"300px"}},e.list.map((function(a,n){return l.a.createElement("li",{key:a.id,className:"list-group-item"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-9"},l.a.createElement("div",{className:"alert alert-heading",role:"alert"},l.a.createElement("h4",{className:"alert-heading"},a.taskName.substring(0,13)," ",a.taskName.length>12?"...":""),l.a.createElement("p",null,a.taskDetails.substring(0,50)," ",a.taskDetails.length>50?"...":""),l.a.createElement("p",null,l.a.createElement("small",null,"Last updated at")," ","new"===a.taskStatus?l.a.createElement(Y.a,{format:"DD/MM/YYYY hh:mm A"},a.createdAt):l.a.createElement(Y.a,{format:"DD/MM/YYYY hh:mm A"},a.updatedAt)))),l.a.createElement("div",{className:"col-12 pl-4"},l.a.createElement(g.a,{className:"col-12"},l.a.createElement(g.a.Toggle,{className:"col-12"},l.a.createElement(E.a,null)),l.a.createElement(g.a.Menu,null,l.a.createElement(x,{update:e.update,id:a.id}),l.a.createElement(g.a.Item,{className:"bg-transparent border-0",onClick:b.bind(t),id:a.id},"Delete"),"inProgress"!=a.taskStatus&&l.a.createElement(g.a.Item,{className:"bg-transparent border-0 ",onClick:N.bind(t),"data-status":"inProgress",id:a.id},"In Progress"),"done"!=a.taskStatus&&l.a.createElement(g.a.Item,{className:"bg-transparent border-0",onClick:N.bind(t),"data-status":"done",id:a.id},"Done"),"new"!=a.taskStatus&&l.a.createElement(g.a.Item,{className:"bg-transparent border-0",onClick:N.bind(t),"data-status":"new",id:a.id},"New"))))))}))))},M=a(146),J=a(147),q=a(148),F=a(108),L=Object(M.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function R(e){var t=L();return l.a.createElement("div",{className:t.root},l.a.createElement(J.a,{variant:"elevation",color:"transparent",position:"static"},l.a.createElement(q.a,null,l.a.createElement(F.a,{variant:"h6",className:t.title},"Your To-do list"),l.a.createElement(x,{update:e.update}))))}var U=a(149),W=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={task:{taskName:null,taskStatus:null,taskDetails:null},completionRatio:null,new:[],done:[],inProgress:[],active:!1,showAlert:!1},n.onClose=n.onClose.bind(Object(h.a)(n)),n.onShow=n.onShow.bind(Object(h.a)(n)),n.update=n.update.bind(Object(h.a)(n)),n}return Object(m.a)(a,[{key:"onClose",value:function(){this.setState({active:!1})}},{key:"onShow",value:function(){this.setState({active:!0})}},{key:"componentDidMount",value:function(){var e=this,t=[],a=[],n=[];fetch("http://localhost:3002/tasks/").then((function(e){return e.json()})).then((function(e){var l=e.data.length;e.data.map((function(e,l){"new"===e.taskStatus&&t.push(e),"inProgress"===e.taskStatus&&a.push(e),"done"===e.taskStatus&&n.push(e)}));var s=[];return s[0]=t,s[1]=a,s[2]=n,s[3]=l,s})).then((function(t){var a=t[2].length/t[3]*100;e.setState({new:t[0],inProgress:t[1],done:t[2],completionRatio:a})})).catch((function(e){console.log(e)}))}},{key:"update",value:function(){this.componentDidMount()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(R,{update:this.update}),l.a.createElement(l.a.Fragment,null,"  ",l.a.createElement(U.a,{style:{height:"8px",color:"green"},className:"bg-danger border-1",variant:"determinate",value:this.state.completionRatio})," "),l.a.createElement("div",{className:"row mt-4"},l.a.createElement("div",{className:"col-lg-4 col-md-12 col-sm-12 mb-2 md-sm-2"},l.a.createElement("div",{className:"col-12 list-group-item bg-light "},"New ",l.a.createElement("span",{style:{float:"right"},className:"badge pt-1 ml-2 badge-danger"},this.state.new.length)),l.a.createElement("ul",{className:"list-group"},l.a.createElement(A,{update:this.update,list:this.state.new}))),l.a.createElement("div",{className:"col-lg-4 col-md-12 col-sm-12 mb-2 md-sm-2"},l.a.createElement("div",{className:"col-12 list-group-item bg-warning "},"In Progress ",l.a.createElement("span",{style:{float:"right"},className:"badge pt-1 ml-2 badge-danger"},this.state.inProgress.length)),l.a.createElement("ul",{className:"list-group"},l.a.createElement(A,{update:this.update,list:this.state.inProgress}))),l.a.createElement("div",{className:"col-lg-4 col-md-12 col-sm-12  mb-2 md-sm-2"},l.a.createElement("div",{className:"col-12 list-group-item bg-success "},"Done ",l.a.createElement("span",{style:{float:"right"},className:"badge pull-right pt-1 ml-2 badge-danger"},this.state.done.length)),l.a.createElement("ul",{className:"list-group"},l.a.createElement(A,{update:this.update,list:this.state.done})))))}}]),a}(l.a.Component),B=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"App container"},l.a.createElement(W,null)))}}]),a}(n.Component);function G(){return l.a.createElement(c.a,null,l.a.createElement(o.a,{exact:!0,path:"/",component:B}))}r.a.render(l.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},90:function(e,t,a){e.exports=a(106)},95:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.6a842325.chunk.js.map